---
import BaseLayout from '../layouts/BaseLayout.astro';
import ApiStatus from '../components/ApiStatus.astro';
import GSHeader from '../components/ui/GSHeader';
import GSButton from '../components/ui/GSButton';
import GSCard from '../components/ui/GSCard';
import KPI from '../components/ui/KPI';

const apiUrl = import.meta.env.PUBLIC_API_URL || 'https://api.goldshore.org/v1';
const currentYear = new Date().getFullYear();
---
<BaseLayout>
  <GSHeader client:load />
  <main class="bg-bg text-text">
    <section class="relative overflow-hidden border-b border-border bg-surface/60">
      <div class="pointer-events-none absolute inset-x-0 -top-48 z-0 h-96 bg-[radial-gradient(circle_at_top,var(--gs-gold)_0%,rgba(227,179,65,0)_70%)] opacity-40"></div>
      <div class="relative z-10 mx-auto grid max-w-7xl gap-12 px-6 py-24 md:grid-cols-[1.1fr_0.9fr] md:items-center">
        <div class="space-y-6">
          <p class="text-sm font-medium uppercase tracking-[0.2em] text-muted">Investor-grade AI infrastructure</p>
          <h1 class="font-display text-4xl tracking-[-0.02em] text-text md:text-5xl">
            Ship accountable AI with production-grade guardrails.
          </h1>
          <p class="max-w-xl text-lg text-muted">
            GoldShore brings observability, compliance, and capital-markets rigor to every deployment. Launch faster without compromising on control.
          </p>
          <div class="flex flex-wrap gap-4">
            <GSButton client:idle>Book a briefing</GSButton>
            <a
              class="inline-flex items-center gap-2 rounded-lg border border-border px-4 py-2 text-sm text-muted transition-colors hover:text-text"
              style="transition-duration: var(--dur); transition-timing-function: var(--ease);"
              href="#operations"
            >
              View operations playbook
            </a>
          </div>
        </div>
        <div class="space-y-6">
          <GSCard client:idle title="Deployment observability">
            <div class="space-y-4">
              <ApiStatus />
            </div>
          </GSCard>
        </div>
      </div>
    </section>

    <section id="operations" class="border-b border-border/60 bg-bg py-20">
      <div class="mx-auto flex max-w-7xl flex-col gap-10 px-6 lg:flex-row lg:items-start">
        <div class="max-w-xl space-y-4">
          <p class="text-sm font-medium uppercase tracking-[0.2em] text-muted">Operational confidence</p>
          <h2 class="font-display text-3xl tracking-[-0.015em] md:text-4xl">Metrics executives can act on</h2>
          <p class="text-base text-muted">
            Monitoring across latency, compliance, and model quality ensures the desk stays within mandate. Alerts route to on-call specialists with clear runbooks.
          </p>
        </div>
        <div class="grid flex-1 gap-4 md:grid-cols-3">
          <KPI client:idle label="Net latency" value="143 ms" delta={-12} />
          <KPI client:idle label="Trade approval SLA" value="99.98%" delta={0.8} />
          <KPI client:idle label="Model drift" value="0.4%" delta={-0.2} />
        </div>
      </div>
    </section>

    <section class="bg-surface/70 py-20">
      <div class="mx-auto grid max-w-7xl gap-6 px-6 md:grid-cols-2">
        <div class="rounded-lg border border-border bg-gradient-to-br from-[var(--gs-ink)] via-surface to-surface p-8 shadow-elev-2">
          <h3 class="font-display text-2xl tracking-[-0.01em] text-[var(--gs-bone)]">Controls for regulated workflows</h3>
          <p class="mt-4 text-sm text-[var(--gs-bone)] text-[color-mix(in_srgb,var(--gs-bone)_70%,var(--gs-ink))]">
            GoldShore templates SOC2, FINRA, and OCC controls with sign-off trails. Every deployment enforces policy via Git-backed guardrails.
          </p>
          <ul class="mt-6 space-y-3 text-sm text-[var(--gs-bone)] text-[color-mix(in_srgb,var(--gs-bone)_70%,var(--gs-ink))]">
            <li class="flex items-start gap-2">
              <span class="mt-1 inline-flex h-2 w-2 rounded-full bg-[var(--gs-auric)]"></span>
              Automated attestation packages ready for regulators.
            </li>
            <li class="flex items-start gap-2">
              <span class="mt-1 inline-flex h-2 w-2 rounded-full bg-[var(--gs-auric)]"></span>
              Immutable audit trails across prompts, outputs, and overrides.
            </li>
            <li class="flex items-start gap-2">
              <span class="mt-1 inline-flex h-2 w-2 rounded-full bg-[var(--gs-auric)]"></span>
              Executive dashboards map KPIs back to governance posture.
            </li>
          </ul>
        </div>
        <div class="grid gap-4">
          <div class="rounded-lg border border-border bg-surface p-6 shadow-elev-1">
            <h3 class="font-display text-xl text-text">Resilient execution fabric</h3>
            <p class="mt-3 text-sm text-muted">
              Isolation per desk, deterministic routing, and fallback models keep trading resilient when markets move.
            </p>
          </div>
          <div class="rounded-lg border border-border bg-surface p-6 shadow-elev-1">
            <h3 class="font-display text-xl text-text">Cross-team clarity</h3>
            <p class="mt-3 text-sm text-muted">
              Shared runbooks bring engineering, risk, and compliance into a single operating picture with Penrose-fast updates.
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="border-t border-border/60 bg-surface py-8">
    <div class="mx-auto flex max-w-7xl flex-col items-center justify-between gap-4 px-6 text-center text-sm text-muted md:flex-row md:text-left">
      <p>&copy; {currentYear} GoldShore. All rights reserved.</p>
      <div class="flex items-center gap-4">
        <a class="hover:text-text" href="mailto:hello@goldshore.org">Contact</a>
        <a class="hover:text-text" href={apiUrl} rel="noreferrer">API status</a>
      </div>
    </div>
  </footer>
</BaseLayout>
